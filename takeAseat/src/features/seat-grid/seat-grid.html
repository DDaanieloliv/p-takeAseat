<div class="window-bg" [class.handle-selection]="!is_visibleHandleSelection">

  <!-- <div class="register-container"> -->
  <!--   <div class="title-container"> -->
  <!--     <span>Add Person</span> -->
  <!--   </div> -->
  <!---->
  <!--   <div  class="seatsSelectedContiner"> -->
  <!--     <div class="seatsSelected"> -->
  <!--       <div -->
  <!--         *ngFor="let seat of selectedSeatList; let i = index" -->
  <!--         class="seatSelected" -->
  <!--         [class.current-seat]="i === 0" -->
  <!--         [class.pending-seat]="i > 0" -->
  <!--         [title]="i === 0 ? 'Current seat being assigned' : 'Pending assignment'" -->
  <!--       > -->
  <!--         {{ seat.row }}-{{ seat.column }} -->
  <!--       </div> -->
  <!--     </div> -->
  <!--   </div> -->
  <!---->
  <!---->
  <!--   <div class="input-container"> -->
  <!--     <div class="name-input"> -->
  <!--       <label> Name </label> -->
  <!--       <input -->
  <!--         type="text" -->
  <!--         placeholder="First and Last name" -->
  <!--         [maxLength]="50" -->
  <!--         [value]="personData.name" -->
  <!--         (input)="onNameInput($event)" -->
  <!--         [class.has-error]="hasError('name')" -->
  <!--       > -->
  <!--       <div -->
  <!--         class="field-error-message" -->
  <!--         [class.visible]="hasError('name')" -->
  <!--         [class.hidden]="!hasError('name')" -->
  <!--       > -->
  <!--         {{ getErrorMessage('name') }} -->
  <!--       </div> -->
  <!--     </div> -->
  <!---->
  <!--     <div class="cpf-input"> -->
  <!--       <label> Cpf </label> -->
  <!--       <input -->
  <!--         type="text" -->
  <!--         placeholder="CPF" -->
  <!--         [maxLength]="14" -->
  <!--         [value]="personData.cpf" -->
  <!--         (input)="onCPFInput($event)" -->
  <!--         [class.has-error]="hasError('cpf')" -->
  <!--       > -->
  <!--       <div -->
  <!--         class="field-error-message" -->
  <!--         [class.visible]="hasError('cpf')" -->
  <!--         [class.hidden]="!hasError('cpf')" -->
  <!--       > -->
  <!--         {{ getErrorMessage('cpf') }} -->
  <!--       </div> -->
  <!--     </div> -->
  <!--   </div> -->
  <!---->
  <!---->
  <!--   <div -->
  <!--     class="allocation" -->
  <!--     [class.handle-selection]="!is_visibleHandleSelection" -->
  <!--   > -->
  <!--     <div -->
  <!--       class="popup-container" -->
  <!--       class="cancel" -->
  <!--       (click)="cancel()" -->
  <!--     >Uncheck -->
  <!--     </div> -->
  <!--     <div -->
  <!--       class="popup-container" -->
  <!--       class="buttom" -->
  <!--       [class.doNotShould-click]="doNotShould_click" -->
  <!--       (click)="confirm()" -->
  <!--     >Confirm -->
  <!--     </div> -->
  <!--   </div> -->
  <!---->
  <!-- </div> -->


  <app-form-component
    [doNotShould_click]="doNotShould_click"
    [personData]="personData"
    [selectedSeatList]="selectedSeatList"
    [is_visibleHandleSelection]="is_visibleHandleSelection"
    [grid]="grid"

    (doNotShould_clickChange)="onDoNotShouldClickChange($event)"
    (personDataChange)="onPersonDataChange($event)"
    (selectedSeatListChange)="onSelectedSeatListChange($event)"
    (is_visibleHandleSelectionChange)="onIsVisibleHandleSelectionChange($event)"
    (gridChange)="onGridChange($event)"
    (onConfirm)="onFormConfirm()"
    (onCancel)="onFormCancel()"
  ></app-form-component>

</div>


  <div class="seat-grid-container" [class.grid-position-after-selection]="!is_visibleHandleSelection">
    <div class="seat-grid">

      <div class="grid-wrapper">

        <!-- 'grid' é um Array de tipo Seat[] ou seja Array<Seat[]>. -->
        <!-- Para cada item (Seat[]) iterado no Array<Seat[]> será gerada uma grid-row. -->
        <div *ngFor="let row of grid.slice().reverse(); let r = index" class="grid-row">

          <!-- Iteraremos sobre cada um dos itens (Seat) em grid-row gerando para cada um deles uma "Seat". -->
          <div *ngFor="let seat of row; let c = index"
            class="seat"
            [class.available]="seat.status === 'AVAILABLE'"
            [class.unavailable]="seat.status === 'UNAVAILABLE'"
            [class.selected]="seat.status === 'SELECTED'"
            [class.occupied]="seat.status === 'OCCUPIED'"
            [class.reserved]="!seat.free"
            (click)="toggleSeat(seat)"
            [title]="'Row ' + (grid.length - r + 1) + ', Seat ' + (c + 1)"
          >
            {{ grid.length - r }}-{{ c + 1 }}
          </div>
        </div>

      </div>
    </div>

  </div>
